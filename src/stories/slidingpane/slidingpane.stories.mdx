import { Story, Preview, Meta, ArgsTable, Source, Description, Canvas  } from '@storybook/addon-docs';
import dedent from 'ts-dedent';
import { SlidingPane } from "@kws3/ui";
import SlidingpaneDecorator from './Slidingpane.svelte';
import { action } from '@storybook/addon-actions';

export let args={
  active : false,
  classes : "",
  style : "",
  v_center : false,
  h_center : false,
  track_height : false
}

<Meta
  title="Standalone/SlidingPane"
  component={SlidingPane}
  args={args}
/>

<Description markdown={dedent`
# Sliding Panes
## Sliding panes component for Svelte applications
`}/>

<Canvas>
  <Story
  name="SlidingPane"
  args={args}
  >
  {(args) => ({
    Component: SlidingpaneDecorator,
    props: args,
  })}
  </Story>
</Canvas>

<ArgsTable story="SlidingPane" />

### Usage Example
<Source
  language='html'
  code={ dedent`
    <div style="height:100%;width:100%;">
      <SlidingPaneSet style="height:{pane_height}px">
        <SlidingPane
          active={steps[active_index].key == "step_one"}
          v_center={true}
          h_center={true}
          track_height
          on:heightChange>
          <div class="buttons">
            <button class="button is-info">Info</button>
            <button class="button is-success">Success</button>
            <button class="button is-warning">Warning</button>
            <button class="button is-danger">Danger</button>
          </div>
        </SlidingPane>
        <SlidingPane
          active={steps[active_index].key == "step_two"}
          v_center={true}
          h_center={true}
          track_height
          on:heightChange>
          <Message>
            <p class="title is-3">Ah, You wont believe that is 2nd step</p>
          </Message>
        </SlidingPane>
        <SlidingPane
          active={steps[active_index].key == "step_three"}
          v_center={true}
          h_center={true}
          track_height
          on:heightChange>
          <Message color="warning">
            <p class="title is-3">Oh, noo, You reached at 3rd step</p>
          </Message>
        </SlidingPane>
      </SlidingPaneSet>
    </div>
    <div class="columns">
      <div class="column">
        <div class="buttons is-centered">
          <button class="button is-info" on:click={() => changeStep(-1)}>
            <Icon icon="arrow-left" />
          </button>
          <button class="button is-success" on:click={() => changeStep(+1)}>
            <Icon icon="arrow-right" />
          </button>
        </div>
      </div>
    </div>
    <script>
      import { SlidingPane, SlidingPaneSet, Icon, Message } from "@kws3/ui";
      export let pane_height = 400,
        steps = [
          { key: "step_one", name: "Step One" },
          { key: "step_two", name: "Step Two" },
          { key: "step_three", name: "Step Three" },
        ],
        active_index = 0;
      export function changeStep(i) {
        let max = steps.length;
        let _index = Math.max(0, Math.min(active_index + i, max - 1));
        active_index = _index;
      }
    </script>
  `}
/>

##### Import the component:
<Source
  language='javascript'
  code={ dedent`import { SlidingPane, SlidingPaneSet } from '@kws3/ui';`}
/>

##### Import the SCSS:
<Source
  language='javascript'
  code={ dedent`@import 'path/to/node_modules/@kws3/ui/styles/SlidingPane.scss';`}
/>