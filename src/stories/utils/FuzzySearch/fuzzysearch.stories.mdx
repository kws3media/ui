import { Meta, Story } from "@storybook/addon-docs";
import dedent from "ts-dedent";
import Version from "~/version.mdx";
import FuzzySearch from "./FuzzySearch.svelte";

<Version />

<Meta title="Utils/2. Examples/FuzzySearch" />

### fuzzysearch

The `fuzzysearch` function used to filter the object

**Parameters:**
needle : `type: String`
haystack : `type: Array`
options : `type: Object`

**Example:**

```js
<div>
  <input type="text" bind:value={filter} class="input" />
</div>
<pre>{JSON.stringify(newData, null, 4)}</pre>

<script>
  import { fuzzysearch } from "@kws3/ui/utils/fuzzysearch";
  let filter = "";
  let data = [
    { id: 1, name: "AAA" },
    { id: 2, name: "BBB" },
    { id: 3, name: "CCC" },
    { id: 4, name: "DDAA" },
    { id: 5, name: "EEBB" },
  ];
  let newData = [];
  let fuzzyOpts = {};
  $: filter, search();
  function search() {
    newData = fuzzysearch(filter, data, {
      search_key: "name",
      scoreThreshold: 5,
      fuzzyOpts,
    });
  }
</script>

```

<Story name="FuzzySearch" args={{}}>
  {(args) => ({
    Component: FuzzySearch,
  })}
</Story>
