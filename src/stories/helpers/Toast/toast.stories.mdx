import { Story, Preview, Meta, ArgsTable, Source, Description, Canvas  } from '@storybook/addon-docs';
import dedent from 'ts-dedent';
import { Toast } from "@kws3/ui";
import ToastDecorator from "./Toast.svelte";
import { action } from '@storybook/addon-actions';

export let args={
  message: "I am a Toast...",
  duration: 3000,
  color: "primary",
  position: "bottom-right",
  is_dismissable: true,
  is_persistent: false,
  context: 1
};

<Meta
  title="Helpers/Toast"
  component={Toast}
  args={args}
  argTypes={{
    color: {
      control: 'select'
    },
    position: {
      control: 'select'
    },
  }}
/>

<Description markdown={dedent`
# Toast
## Toast components for showing alerts.
`}/>

<Canvas>
  <Story
  name="Toast"
  args={args}
  >
  {(args) => ({
    Component: ToastDecorator,
    props: args,
  })}
  </Story>
</Canvas>

<ArgsTable story="Toast" />


### Usage
##### Default Method
<Source
  language='javascript'
  code={ dedent`
  import { Toast } from '@kws3/ui';
  Toast.create({ message: 'I am a Toast...', position: 'top-left' });
  `}
/>

##### Manual Method
<Source
  language='javascript'
  code={ dedent`
  import {  Toast, ToastNotifications, ToastBox } from '@kws3/ui';
  //---
  <ToastBox position="bottom">
    {#each $ToastNotifications as ToastNotification}
      <Toast {...ToastNotification} on:destroy={destroy} />
    {/each}
  </ToastBox>
  //---
  Toast.push({ message: 'I am a Toast...', position: 'top-left' });
  //---
  Toast.pop(props);
  `}
/>


##### Import the CSS:
<Source
  language='javascript'
  code={ dedent`@import 'path/to/node_modules/@kws3/ui/styles/Toast.scss';`}
/>

##### SCSS customization variables with default values:
<Source
  language='css'
  code={ dedent`
    $kws3-toast-width: 30rem;
  `}
/>