import { Story, Preview, Meta, ArgsTable, Source, Description, Canvas  } from '@storybook/addon-docs';
import dedent from 'ts-dedent';
import { Toast } from "@kws3/ui";
import ToastDecorator from "./Toast.svelte";
import { action } from '@storybook/addon-actions';

export let args={
  title: "Heading",
  message: "I am a Toast...",
  duration: 3000,
  color: "primary",
  light:false,
  position: "bottom-right",
  variant:'notification',
  is_dismissable: true,
  is_persistent: false,
  context: 1
};

<Meta
  title="Helpers/Toast"
  component={Toast}
  args={args}
  argTypes={{
    color: {
      control: 'select'
    },
    position: {
      control: 'select'
    },
  }}
/>

<Description markdown={dedent`
# Toast
## Toast components for showing alerts.
`}/>

<Canvas>
  <Story
  name="Toast"
  args={args}
  >
  {(args) => ({
    Component: ToastDecorator,
    props: args,
  })}
  </Story>
</Canvas>

<ArgsTable story="Toast" />


### Usage
<Source
  language='javascript'
  code={ dedent`
  import {  Toast, ToastOutput } from '@kws3/ui';
  import CustomComponent from "YourCustomComponent.svelte";
  //
  // Put this inside your body tag
  <ToastOutput />
  //
  // Push notification like this
  Toast.push({
    component: CustomComponent, //optional
    title: "Test Title",
    message: "I am a customized Toast...",
    is_persistent: true,
    is_dismissable: false,
    position: "top",
    color: "info",
    beforeClose: (props) => {
      //do something here before close
    },
    afterClose: (props) => {
      //do something here after close
    },
  `}
/>


##### Import the CSS:
<Source
  language='javascript'
  code={ dedent`@import 'path/to/node_modules/@kws3/ui/styles/Toast.scss';`}
/>

##### SCSS customization variables with default values:
<Source
  language='css'
  code={ dedent`
    $kws3-toast-width: 30rem;
  `}
/>