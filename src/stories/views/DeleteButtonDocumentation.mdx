import { Story, Preview, Meta, ArgsTable, Source, Description, Canvas  } from '@storybook/addon-docs';
import dedent from 'ts-dedent';
import { DeleteButton } from '@kws3/buttons';
let args = {
  color:'primary',
  size:'small',
  text: 'Button'
};

<Meta
  title="Buttons/DeleteButton"
  component={DeleteButton}
  args={{ color: 'warning', size: 'small' }}
  argTypes={{
    color: {
      control: { type: 'select' }
    },
    size:{
      control: {type:"select"}
    },
    classes:{
      control: {type:"text"}
    },
    button_class:{
      control: {type:"text"}
    },
    text:{
      control: {type:"text"}
    },
    icon:{
      control: {type:"text"}
    },
    cy:{
      control: {type:"text"}
    },
    doing_icon:{
      control: {type:"text"}
    },
    doing_text:{
      control: {type:"text"}
    },
    done_icon:{
      control: {type:"text"}
    },
    done_text:{
      control: {type:"text"}
    },
    context:{
      control: {type:"text"}
    },
    icon_only:{
      control: {type:"radio"}
    },
    disabled:{
      control: {type:"radio"}
    }
  }}
/>

export const Template = (args) => <DeleteButton {...args} />

<div class="columns" >
  <div class="column is-4" ></div>
  <div class="column" >
    <Story
      id="buttons-delete-button-3--delete-button-3"
      name="Buttons"
      args={{color : 'warning', size : 'small'}}
      >
      {Template.bind({})}
    </Story>
  </div>
</div>

<ArgsTable
  of={DeleteButton}
/>

<Description markdown={dedent`
# DeleteButton
## Delete Button with built-in confirmation.
`}/>

### Example source code
<Source
  language='html'
  code={ dedent`<DeleteButton text="Delete" color="primary" size="small" icon_only="true" disabled="false" />`}
/>

### Usage Example
<Source
  language="html"
  code={
    dedent`<DeleteButton
          {text}
          {icon}
          {doing_icon}
          {done_icon}
          {doing_text}
          {done_text}
          {color}
          {size}
          {icon_only}
          {disabled}
          on:erase={eraseDo}
        />
    <script>
      import { DeleteButton } from '@kws3/buttons';
      export let color = "primary";
      export let disabled = false;
      export let size="";
      export let icon_only = false;
      export let text = "Delete";
      export let icon = "minus-circle";
      export let doing_icon = "hourglass";
      export let done_icon = "check";
      export let doing_text = "Doing";
      export let done_text = "Deleted";
      function eraseDo(event, success = true){
        let {doing, done, error} = event.detail;
        doing();
        somePromise().then(() => {
          //set visual state to Done
          //it will autmatically revert back to
          //normal state after 3 seconds
          component.done();
        })
        .catch(() => {
          //set visual state to Error
          //it will autmatically revert back to
          //normal state after 3 seconds
          component.error();
        })
      }
    </script>`
  }
/>



