import { Story, Preview, Meta, ArgsTable, Source, Description, Canvas  } from '@storybook/addon-docs';
import dedent from 'ts-dedent';
import Version from '~/version.mdx';
import { PenInput as CanvasInput } from '@kws3/ui';
import { action } from '@storybook/addon-actions';
import PenInputDecorator from "./PenInput.svelte";

export let args={
  expanded: false,
  readonly: false,
  disabled: false,
  is_filled : false,
  styles : {},
  width : "250px",
  height : "250px",
  pen_color : "#ff0000",
  pen_width : 2,
  eraser_width : 6,
  image : "",
  backgroundImage : "",
  initialScale : 1,
  expand : { from: "center", to: "center", scale: 50 },
};


<Version />

<Meta
  title="Canvas/Pen Input"
  component={CanvasInput}
  args={args}
/>

<Description markdown={dedent`
# Canvas
## Canvas for Drawing.
`}/>

<Canvas>
  <Story
  name="Pen Input"
  args={args}
  >
  {(args) => ({
    Component: PenInputDecorator,
    props: args
  })}
  </Story>
</Canvas>

<ArgsTable story="Pen Input" />

### Usage

<Source
  language="javascript"
  code={dedent`import { PenInput } from '@kws3/ui';`}
/>

##### Import the CSS:

<Source
  language="javascript"
  code={dedent`@import '@kws3/ui/styles/Canvas.scss';`}
/>

### Example source code
<Source
  language='html'
  code={ dedent`
      <PenInput
        expanded={false}
        readonly={false}
        disabled={false}
        is_filled={false}
        styles={}
        width="250px"
        height="250px"
        pen_color="#ff0000"
        pen_width=2
        eraser_width=6
        image=""
        backgroundImage=""
        initialScale=1
        expand={ from: "center", to: "center", scale: 50 }
        bind:DRAWING_PAD
        on:change={onChange} 
      />`}
/>

### Usage Example
<Source
  language='html'
  code={ dedent`
      <PenInput
      {expanded}
      {readonly}
      {disabled}
      {is_filled}
      {styles}
      {width}
      {height}
      {pen_color}
      {pen_width}
      {eraser_width}
      {image}
      {backgroundImage}
      {initialScale}
      {expand}
      bind:DRAWING_PAD
      on:change={onChange} />
    
    <script>
      import { PenInput } from '@kws3/ui';
      export let is_filled = false;
      export let styles = {};
      export let width = "250px";
      export let height = "250px";
      export let pen_color = "#000000";
      export let pen_width = 2;
      export let eraser_width = 6;
      export let image = "";
      export let backgroundImage = ""; 
      export let expanded = false;
      export let initialScale = 1;
      export let expand = { from: "center", to: "center", scale: 50 }; 
      export let readonly = false;
      export let disabled = false; 
      export let DRAWING_PAD;
      
      function onChange({ detail }) {
        image = detail.canvasImage;
      }
    </script>
  `}
/>
