import {
  Story,
  Preview,
  Meta,
  ArgsTable,
  Source,
  Description,
  Canvas,
} from "@storybook/addon-docs";
import dedent from "ts-dedent";
import { ESignature as KWS3ESignature } from "@kws3/ui";
import ESignatureDecorator from "./ESignature.svelte";
import { action } from "@storybook/addon-actions";

export let args = {
  styles: {
    border: "1px solid #b5b5b5",
  },
  width: "250px",
  height: "250px",
  lineWidth: 2,
  eraserWidth: 6,
  lineColor: "#ff0000",
  backgroundImage: "",
  readonly: false,
  disabled: false,
  image: "",
  initialScale: 1,
  // expand: 50,
  expand: {
    from: "center",
    to: "center",
    scale: 50,
  },
  tools: ["Pen", "Eraser"],
  actions: ["controls", "colorpicker", "undo", "redo", "reset", "expand"],
  actionToolbarPosition: "bottom",
  activeTool: "Pen",
  drawing_label: "",
  hide_colorpicker: false,
  cy: "",
};

<Meta
  title="Canvas/ESignature"
  component={KWS3ESignature}
  args={args}
  argTypes={{
    activeTool: {
      control: "select",
    },
    tools: {
      control: "check",
    },
  }}
/>

<Description
  markdown={dedent`
# Canvas
## Canvas components for ESignature.
`}
/>

<Canvas>
  <Story name="ESignature" args={args}>
    {(args) => ({
      Component: ESignatureDecorator,
      props: args,
    })}
  </Story>
</Canvas>

<ArgsTable story="ESignature" />

### Usage

<Source
  language="javascript"
  code={dedent`import { ESignature } from '@kws3/ui';`}
/>

##### Import the CSS:

<Source
  language="javascript"
  code={dedent`@import '@kws3/ui/styles/Canvas.scss';`}
/>

### Usage Example
<Source
  language='html'
  code={ dedent`
      <KwsESignature
        bind:this={canvasWrapper}
        bind:image
        {styles}
        {width}
        {height}
        {lineWidth}
        {eraserWidth}
        {lineColor}
        {backgroundImage}
        {readonly}
        {disabled}
        {initialScale}
        {expand}
        {tools}
        {activeTool}
        {actions}
        {toolbarPlacement}
        {drawing_label}
        />
    
    <script>
      import { ESignature } from '@kws3/ui';
      let canvasWrapper;
      export let width = "250px",
        height = "250px",
        lineWidth = 2,
        eraserWidth = 6,
        lineColor = "#ff0000",
        backgroundImage = "",
        readonly = false,
        disabled = false,
        image = "",
        initialScale = 1,
        expand = {
          from: "center",
          to: "center",
          scale: 50,
        },
        tools = ["Pen", "Eraser"],
        actions = ["controls", "colorpicker", "undo", "redo", "reset", "expand"],
        toolbarPlacement = "bottom",
        activeTool = "Pen",
        drawing_label = "",
        cy = "";
    </script>
  `}
/>
