import {
  Controls,
  Meta,
  Source,
  Canvas,
} from "@storybook/blocks";
import dedent from "ts-dedent";
import Version from "~/version.mdx";
import * as Stories from "./SearchableSelect.stories";

<Version />

# SearchableSelect
## A select component that allows you to search by typing into it.

<Meta of={Stories} />
<Canvas />
<Controls />

<div className="notification is-primary is-light">
  <div className="columns">
    <div className="column">
      <h3>
        Input format <code>options</code>
      </h3>
      <div>
        Can send either an array of strings, or an array of objects.<br></br>Always
        ensure the shape of the array items are consistent.
      </div>
      <div>
        When an array of objects is sent, <br></br>
        <code>array_item[search_key]</code> is used for search-as-you-type, <br></br>
        and <code>array_item[value_key]</code> is returned as the value once an
        item is selected.
      </div>
      <div>See supported data formats in example story above.</div>
    </div>
    <div className="column">
      <h3>Customising dropdown text items</h3>
      <div>See documentation for default slot.</div>
      <h4>Example:</h4>
      <Source
        language="jsx"
        code={dedent`<SearchableSelect
      ...other_options
      let:search_key 
      let:option>
      <span class="has-text-danger">
        {option[search_key]}
      </span>
    </SearchableSelect>`}
      />
    </div>
  </div>
</div>

### Usage

#### Import the component:

<Source
  code={dedent`import { SearchableSelect } from '@kws3/ui';`}
/>

#### Import the SCSS:
_Default values shown as example_
<Source
  code={
    dedent`
      @use '@kws3/ui/styles/Select.scss with(
        $theme-colors: dv.$colors,
        $radius: cv.getVar("radius"),
        $focus-border-color: hsl(
          cv.getVar("input-focus-h"),
          cv.getVar("input-focus-s"),
          cv.getVar("input-focus-l")
        ),
        $focus-box-shadow-size: cv.getVar("input-focus-shadow-size"),
        $focus-box-shadow-color: hsl(
          cv.getVar("input-focus-h"),
          cv.getVar("input-focus-s"),
          cv.getVar("input-focus-l"),
          cv.getVar("input-focus-shadow-alpha")
        ),
        $disabled-background-color: cv.getVar(
          "input-disabled-background-color"
        ),
        $disabled-border-color: cv.getVar("input-disabled-border-color"),
        $disabled-color: cv.getVar("input-disabled-color"),
        $selecting-color: cv.getVar("primary-invert"),
        $selecting-background: cv.getVar("primary"),
        $selected-color: cv.getVar("primary-dark"),
        $selected-background: cv.getVar("primary-light"),
        $options-background: cv.getVar("scheme-main-ter"),
        $__modal-z: 41,
      )
    `
  }
/>
