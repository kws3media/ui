import { Controls, Meta, Source, Canvas  } from "@storybook/blocks";
import dedent from 'ts-dedent';
import Version from '~/version.mdx';
import * as Stories from "./MultiSelect.stories";

<Version />

# MultiSelect
## A select component that allows you to search and select multiple items by typing into it.

<Meta of={Stories} />
<Canvas />
<Controls />

<div className="notification is-primary is-light">
  <div className="columns">
    <div className="column">
      <h3>Input format <code>options</code></h3>
      <div>Can send either an array of strings, or an array of objects.</div>
      <div>Always ensure the shape of the array items are consistent.</div>
      <div>When an array of objects is sent, </div>
      <div><code>array_item[search_key]</code> is used for search-as-you-type, </div>
      <div>and <code>array_item[value_key]</code> is returned as the value once an item is selected.</div>
      <div>See supported data formats in example story above.</div>
      <h3>Output format <code>value</code></h3>
      <div>The output in <code>value</code> will always be an array, even if a single item is selected.</div>
    </div>
    <div className="column">
    <h3>Customising dropdown text items</h3>
    <div>See documentation for default slot.</div>
    <h4>Example:</h4>
    <Source
  language="jsx"
  code={
    dedent`<MultiSelect
      ...other_options
      let:search_key 
      let:option>
      <span class="has-text-danger">
        {option[search_key]}
      </span>
    </MultiSelect>`
  }
/>
    </div>
  </div>
</div>

### Usage
#### Import the component:
<Source
  code={
    dedent`import { MultiSelect } from '@kws3/ui';`
  }
/>

#### Import the SCSS:
<Source
  code={
    dedent`@use '@kws3/ui/styles/Select.scss';`
  }
/>

#### SCSS customization variables with default values:
<Source
  language="css"
  code={
    dedent`
      @use '@kws3/ui/styles/Select.scss with(
        $colors: dv.$colors !default;
        $radius: cv.getVar("radius") !default;
        $focus-border-color: hsl(cv.getVar("input-focus-h"),cv.getVar("input-focus-s"),cv.getVar("input-focus-l")) !default;
        $focus-box-shadow-size: cv.getVar("input-focus-shadow-size") !default;
        $focus-box-shadow-color: hsl(cv.getVar("input-focus-h"),cv.getVar("input-focus-s"),cv.getVar("input-focus-l"),cv.getVar("input-focus-shadow-alpha")) !default;
        $disabled-background-color: cv.getVar("input-disabled-background-color") !default;
        $disabled-border-color: cv.getVar("input-disabled-border-color") !default;
        $disabled-color: cv.getVar("input-disabled-color") !default;
        $selecting-color: cv.getVar("primary-invert") !default;
        $selecting-background: cv.getVar("primary") !default;
        $selected-color: cv.getVar("primary-dark") !default;
        $selected-background: cv.getVar("primary-light") !default;
        $options-background: cv.getVar("scheme-main-ter") !default;
        $__modal-z: 41 !default;
      )
    `
  }
/>
