import {
  Controls,
  Meta,
  Source,
  Canvas,
} from "@storybook/blocks";
import dedent from "ts-dedent";
import Version from "~/version.mdx";
import * as Stories from "./AutoCompleteAsync.stories";

<Version />

# AutoComplete (Async)
## An Input component that supports auto complete tips.

<Meta of={Stories} />
<Canvas />
<Controls />

<div className="notification is-primary is-light">
  <div className="columns">
    <div className="column">
      <h3>
        Input format <code>options</code>
      </h3>
      <p>
        Can send either an array of strings, or an array of objects.<br></br>Always
        ensure the shape of the array items are consistent.
      </p>
     <p>See supported data formats in example story above.</p>
      <p>Note: <code>option.label</code> contains matched characters wrapped inside <code>&lt;span class="h"&gt;</code> tags. </p>
      <p>Note: Highlighted results can be turned off by setting <code>highlighted_results</code> property to <code>false</code></p>
    </div>
    <div className="column">
      <h3>Customising dropdown text items</h3>
      <p>See documentation for default slot.</p>
      <h4>Example:</h4>
      <Source
        language="jsx"
        code={dedent`<AutoComplete
      ...other_options
      let:option>
      <span class="has-text-danger">
        {@html option.label}
      </span>
    </AutoComplete>`}
      />
    </div>
  </div>
</div>

### Usage

#### Import the component:

<Source
  code={dedent`import { AutoComplete } from '@kws3/ui';`}
/>

#### Import the SCSS:

<Source
  code={dedent`@import '@kws3/ui/styles/AutoComplete.scss';`}
/>

#### SCSS customization variables with default values:

<Source
  language="css"
  code={dedent`
      @use '@kws3/ui/styles/AutoComplete.scss' with (
        $kws-theme-colors: dv.$colors !default;
        $kws-autocomplete-radius: #{cv.getVar("radius")} !default;
        $kws-autocomplete-border-color: #{cv.getVar("border")} !default;
        $kws-autocomplete-box-shadow:
          0 0.5em 1em -0.125em rgb(10 10 10 / 10%),
          0 0px 0 1px rgb(10 10 10 / 2%) !default;
        $kws-autocomplete-focus-border-color: #{cv.getVar("input-focus-border-color")} !default;
        $kws-autocomplete-focus-box-shadow-size: #{cv.getVar("focus-shadow-size")} !default;
        $kws-autocomplete-focus-box-shadow-color: hsl(
          #{cv.getVar("focus-h")},
          #{cv.getVar("focus-s")},
          #{cv.getVar("focus-l")},
          #{cv.getVar("focus-shadow-alpha")}
        ) !default;
        $kws-autocomplete-disabled-background-color: #{cv.getVar(
            "input-disabled-background-color"
          )} !default;
        $kws-autocomplete-disabled-border-color: #{cv.getVar(
            "input-disabled-border-color"
          )} !default;
        $kws-autocomplete-disabled-color: #{cv.getVar("input-disabled-color")} !default;
        $kws-autocomplete-selecting-color: #{cv.getVar("primary-invert")} !default;
        $kws-autocomplete-selecting-background: #{cv.getVar("primary")} !default;
        $kws-autocomplete-text-matches-color: currentColor !default;
        $kws-autocomplete-text-matches-background: transparent !default;
        $kws-autocomplete-text-matches-font-weight: #{cv.getVar("weight-bold")} !default;
        $kws-autocomplete-options-background: #{cv.getVar("scheme-main-ter")} !default;
      );
    `}
/>
