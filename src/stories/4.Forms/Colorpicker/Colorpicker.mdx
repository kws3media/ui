import { Controls, Meta, Source, Canvas  } from "@storybook/blocks";
import dedent from 'ts-dedent';
import Version from '~/version.mdx';
import * as Stories from "./Colorpicker.stories";

<Version />

# Colorpicker
## Colorpicker component that allows you to select a colour.

<Meta of={Stories} />
<Canvas />
<Controls />

### Usage
#### Import the component:
<Source
  code={
    dedent`import { Colorpicker } from '@kws3/ui';`
  }
/>

#### Import the SCSS:
_Default values shown as example_
<Source
  code={dedent`
      @use '@kws3/ui/styles/Colorpicker.scss' with (
        $picker-shadow: cv.getVar("shadow"),
        $picker-border-color: cv.getVar("border"),
        $preview-shadow:
          0 0.125rem 0.1875rem
            hsla(
              cv.getVar("shadow-h"),
              cv.getVar("shadow-s"),
              cv.getVar("shadow-l"),
              0.1
            ),
          0 0 0 0.0625rem
            hsla(
              cv.getVar("shadow-h"),
              cv.getVar("shadow-s"),
              cv.getVar("shadow-l"),
              0.1
            ),
        $preview-radius: cv.getVar("radius-small"),
        $icon-shadow: 0 0.0625rem 0.0625rem
          hsla(cv.getVar("shadow-h"), cv.getVar("shadow-s"), cv.getVar("shadow-l"), 0.4),
        $dragover-hilight-color: cv.getVar("success-soft"),
      );
    `}
/>

<div className="notification is-info is-light">
  <p className="sb-unstyled">This component supports HTML5 drag and drop.</p>
  <p className="sb-unstyled">Use `event.dataTransfer.setData('text', <new_color>)` on the draggable element.
  Then once you drop the draggable element into this component, it picks up the data from the `text` value.</p>
  <h4 className="sb-unstyled">**Example:**</h4>
  <Source
    language="jsx"
    code ={
    dedent`<div
      style="background:#bada55"
      draggable="true"
      on:dragstart={(e) => {
        e.dataTransfer.setData("text", "bada55");
      }}>
      #bada55
    </div>`
  } />
</div>
