import{c as p}from"./index-81505e0c.js";import{w as O,d as m}from"./index-f0c04adc.js";import{g as F}from"./index-1914c206.js";const B=n=>{var o=Array.isArray(n);if(!o)return E(n);let f=[];return n.length&&n.forEach(i=>f.push(E(i))),f},E=n=>{let o=n.data||{},f=n.validators||{},i=n.strictMode||!1,A={saving:!1,saved:!1,error:!1};const a=O(p(o)),b=O(p(A)),g=m(a,(t,y)=>{let c=Object.keys(t),l=c.reduce((r,e)=>(r[e]=!1,r),{}),u=(r,e,s)=>{if(Array.isArray(s[r])){if(!Array.isArray(e[r])||Array.isArray(e[r])&&e[r].length!==s[r].length)return!0}else if(typeof s[r]=="object"&&s[r]!==null){let h={};for(let v in s[r])h[v]=u(v,e[r],s[r]);return h}else{if(!i&&(e[r]===null&&[0,"",!1].indexOf(s[r])!==-1||e[r]===0&&s[r]===!1||e[r]===1&&s[r]===!0))return!1;if(e[r]!==s[r])return!0}return!1};c.length&&c.forEach(r=>{l[r]=u(r,o,t)}),y(l)}),k=m(a,(t,y)=>{let c=Object.keys(f)||[],l=c.reduce((r,e)=>(r[e]="",r),{}),u=(r,e)=>{let s="";if(e||typeof e<"u")if(Array.isArray(e))for(let h=0;h<e.length&&(s=u(r,e[h]),!s);h++);else s=e(t[r],t);return s};c.length&&c.forEach(r=>{l[r]=u(r,f[r])}),y(l)}),M=m(g,(t,y)=>{let c=l=>Object.values(l).some(u=>typeof u=="object"?c(u):u===!0);y(c(t))}),_=m(k,t=>Object.values(t).every(y=>y===""));function x(t){o=t,j()}function V(t){f=t,a.set(F(a))}function j(t){t&&t.preventDefault(),a.set(p(o)),b.set(p(A))}return{formData:a,errors:k,touched:g,isValid:_,isTouched:M,tracker:b,update:x,reset:j,setValidators:V}},C=n=>n&&n.trim()!=="",G=(n,o)=>(f,i)=>o(f,i)?"":n;export{B as m,C as n,G as w};
