import{r as S,d as A,t as C}from"./index-1914c206.js";function q(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function j(e,i){A(e,1,1,()=>{i.delete(e.key)})}function B(e,i){e.f(),j(e,i)}function D(e,i,w,O,M,p,o,R,b,x,a,E){let f=e.length,c=p.length,d=f;const l={};for(;d--;)l[e[d].key]=d;const h=[],y=new Map,r=new Map,m=[];for(d=c;d--;){const n=E(M,p,d),s=w(n);let t=o.get(s);t?O&&m.push(()=>t.p(n,i)):(t=x(s,n),t.c()),y.set(s,h[d]=t),s in l&&r.set(s,Math.abs(d-l[s]))}const g=new Set,z=new Set;function v(n){C(n,1),n.m(R,a),o.set(n.key,n),a=n.first,c--}for(;f&&c;){const n=h[c-1],s=e[f-1],t=n.key,u=s.key;n===s?(a=n.first,f--,c--):y.has(u)?!o.has(t)||g.has(t)?v(n):z.has(u)?f--:r.get(t)>r.get(u)?(z.add(t),v(n)):(g.add(u),f--):(b(s,o),f--)}for(;f--;){const n=e[f];y.has(n.key)||b(n,o)}for(;c;)v(h[c-1]);return S(m),h}const _=typeof window<"u"?typeof window.ResizeObserver<"u":!1;function F(e){let i;return _&&(i=new ResizeObserver(()=>{const w=new CustomEvent("resize",{bubbles:!1});e.dispatchEvent(w)}),i.observe(e)),{destroy(){_&&i.disconnect()}}}export{q as e,B as f,_ as h,j as o,F as r,D as u};
