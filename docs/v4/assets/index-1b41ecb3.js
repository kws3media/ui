import{c as m}from"./index-8cc5c1ab.js";import{w as v,d as h}from"./index-4339844e.js";import{g as F}from"./index-ae6f3512.js";const B=n=>Array.isArray(n)?n.map(o=>M(o)):M(n),M=n=>{let o=n.data||{},p=n.validators||{},A=n.strictMode||!1,b={saving:!1,saved:!1,error:!1};const i=v(m(o)),g=v(m(b)),k=h(i,(s,f)=>{let u=Object.keys(s),y=u.reduce((e,r)=>(e[r]=!1,e),{}),c=(e,r,t)=>{if(typeof r>"u"&&typeof t<"u"||typeof t>"u"&&typeof r<"u")return!0;if(Array.isArray(t[e])){if(!Array.isArray(r[e])||Array.isArray(r[e])&&r[e].length!==t[e].length)return!0}else if(typeof t[e]=="object"&&t[e]!==null){let l={};for(let O in t[e])l[O]=c(O,r[e],t[e]);return l}else{if(!A&&(r[e]===null&&[0,"",!1].indexOf(t[e])!==-1||r[e]===0&&t[e]===!1||r[e]===1&&t[e]===!0))return!1;if(r[e]!==t[e])return!0}return!1};u.length&&u.forEach(e=>{y[e]=c(e,o,s)}),f(y)}),a=h(i,(s,f)=>{let u=Object.keys(p)||[],y=u.reduce((e,r)=>(e[r]="",e),{}),c=(e,r)=>{let t="";if(r||typeof r<"u")if(Array.isArray(r))for(let l=0;l<r.length&&(t=c(e,r[l]),!t);l++);else t=r(s[e],s);return t};u.length&&u.forEach(e=>{y[e]=c(e,p[e])}),f(y)}),E=h(k,(s,f)=>{let u=y=>Object.values(y).some(c=>typeof c=="object"?u(c):c===!0);f(u(s))}),_=h(a,s=>Object.values(s).every(f=>f===""));function x(s){o=s,j()}function V(s){p=s,i.set(F(i))}function j(s=null){s&&s.preventDefault(),i.set(m(o)),g.set(m(b))}return{formData:i,errors:a,touched:k,isValid:_,isTouched:E,tracker:g,update:x,reset:j,setValidators:V}},C=n=>n&&n.trim()!=="",G=(n,o)=>(p,A)=>o(p,A)?"":n;export{B as m,C as n,G as w};
