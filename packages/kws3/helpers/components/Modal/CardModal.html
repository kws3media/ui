<div class="modal {class} {is_active ? 'is-active' : ''}" style="{style}">
  <div class="modal-background" on:click="fire('clickOutside')"></div>
  <div class="modal-card is-{size} {inner_class}" style="{inner_style}">
    <div class="modal-card-head">
      <div class="modal-card-title">
        <slot name="title">{title}</slot>
      </div>
      {#if closable}
        <button class="delete" type="button" on:click="fire('close')"></button>
      {/if}
    </div>
    <div class="modal-card-body">
      <slot></slot>
    </div>
    {#if has_footer}
      <div class="modal-card-foot">
        <slot name="footer"></slot>
      </div>
    {/if}
  </div>

</div>

<script>
  export default {
    data(){
      return {
        title:'',
        size:'',
        is_active: false,
        closable: true,
        close_on_click_outside: false,
        has_footer: true,
        style:'',
        inner_style:'',
        class:'',
        inner_class:''
      }
    },
    oncreate(){
      this.on('close', () => {
        this.close();
      });
      this.on('clickOutside', () => {
        let {close_on_click_outside, closable} = this.get();
        if(close_on_click_outside && closable){
          this.fire('close');
        }
      });
    },
    methods:{
      close(){
        this.set({is_active: false});
      },
      open(){
        this.set({is_active: true});
      }
    }
  }
</script>