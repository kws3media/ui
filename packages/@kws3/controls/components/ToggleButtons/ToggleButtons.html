<div class="toggle-buttons field has-addons {class}">
  {#each options as option}
    <div class="control {fullwidth ? 'is-expanded': ''} {inner_class}">
      <button
        type="button"
        {disabled}
        on:click="setValue(option.value)"
        class="button is-{size}  {fullwidth ? 'is-fullwidth': ''} {value == option.value ? ('is-active ' + (option.active_class ? option.active_class : active_class)) : inactive_class}"
        style="height:auto"
      >
        <span>
          {#if option.icon}
            <Icon icon="{option.icon}" size="small" icon_class="is-marginless" />
          {/if}
          <span class="is-block">{option.name}</span>
          {#if option.subtitle}
          <span style="font-size: 0.7em; display: block; margin-top: -0.3em; opacity: 0.7;">{option.subtitle}</span>
          {/if}
        </span>
      </button>
    </div>
  {/each}
</div>


<script>
  import {Icon} from '@kws3/helpers';

  export default {
    components:{Icon},
    data: function(){
      return {
        on: false,
        value: null,
        disabled: false,
        options:[],
        class:'',
        inner_class:'',
        active_class: 'is-primary',
        inactive_class: 'is-outlined',
        size: '',
        fullwidth: false
      }
    },
    methods:{
      setValue(value){
        this.set({value: value});
        this.fire('change');
      }
    }
  };
</script>