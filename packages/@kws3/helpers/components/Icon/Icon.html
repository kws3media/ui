<span class="icon {size ? 'is-'+size : ''} {color ? 'has-text-'+color : ''} {icon_class}" style="{icon_style}">
  <i class="icon-i {familyClass}{icon} {internal_size} {_used_inner_class}" style="{_used_inner_style}"></i>
</span>

<style>
  .icon .gg{
    transform: scale(0.75);
  }
  .icon .gg.fa-lg{
    transform: scale(1);
  }
  .icon .gg.fa-2x{
    transform: scale(1.5);
  }
  .icon .gg.fa-3x{
    transform: scale(2);
  }
</style>

<script>
export default {
  data: function(){
    return {
      size: null,
      color: null,
      icon: '',
      icon_class:'',
      fa_class: null, // @deprecated
      fa_style: null, // @deprecated
      inner_class: null,
      inner_style: null,
      family: null,
      _system_settings: null
    }
  },
  computed:{
    _used_inner_class({inner_class, fa_class}){
      return inner_class || fa_class || '';
    },
    _used_inner_style({inner_style, fa_style}){
      return inner_style || fa_style || '';
    },
    familyClass({usedFamily}){
      switch(usedFamily){
        case 'fa':
          return 'fa fa-'
        break;
        case 'gg':
          return 'gg gg-'
        break;
      }
    },
    usedFamily({_system_settings, family}){
      if(family){
        return family;
      }

      let _family = 'fa';
      if(_system_settings && typeof _system_settings.icon_family != 'undefined' && _system_settings.icon_family){
        return _system_settings.icon_family;
      }
      return _family;
    },
    internal_size({size}){
      switch (size) {
        case 'small':
          return '';
        break;
        case 'medium':
          return 'fa-2x';
        break;
        case 'large':
          return 'fa-3x';
        break;
        default:
          return 'fa-lg'
        break;
      }
    }
  },
  oncreate(){
    if(this.store){
      let {system_settings} = this.store.get();
      this.set({_system_settings: system_settings});
    }
  }
}
</script>