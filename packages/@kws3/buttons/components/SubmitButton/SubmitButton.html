<button class="button {classes} {tracker.saving ? 'is-loading' : (tracker.error ? 'is-danger' : (tracker.saved ? 'is-success' : ''))}" type="submit" disabled="{disabled}" data-cy="{cy}">
  {#if tracker.saved}
    <Icon icon="check" size="{icon_size}" /> <span>{saved_text}</span>
  {:else}
    <Icon icon="{icon}" size="{icon_size}" /> <span>{text}</span>
  {/if}
</button>


<script>
  import { Icon } from '@kws3/helpers';

  export default {
    components: { Icon },
    data(){
      return {
        classes: 'is-primary',
        text: 'Save Changes',
        saved_text: 'Saved',
        icon: 'save',
        icon_size:'',
        cy:'submit',
        tracker:{
          saving: false,
          saved: false,
          error: false
        },
        disabled: false
      }
    }
  }

</script>
