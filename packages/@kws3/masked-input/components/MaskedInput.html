<div>
  <input class="input" type='text' bind:value ref:input>
</div>

<script>
  import { createTextMaskInputElement } from 'text-mask-core'
  export default {
    data(){
      return {
        mask: [],
        showMask: false
      }
    },
    oncreate(){
      var self = this;
      let inputElement = self.refs.input;
      let {mask,showMask } = self.get();
      let textMaskConfig = {
        inputElement,
        mask,
        showMask
      }
      const textMaskInputElement = createTextMaskInputElement(textMaskConfig);

      textMaskInputElement.update(inputElement.value)

      self.on('state', function({changed, current}){
        textMaskInputElement.update(inputElement.value)
        self.set({value:inputElement.value })
      })
    }
  }


</script>