<input ref:input class="input {classes} {disabled}" type="text" style="{style}" readonly bind:value disabled="{disabled}" />

<script>
  import flatpickr from 'flatpickr';

  export default {
    data() {
      return {
        value: '',
        classes: '',
        style: '',
        disabled: false,
        _setting: false
      }
    },
    oncreate() {
      var self = this,
      setting = false;

      self.picker = flatpickr(self.refs.input, {
        altInput: true,
        altFormat: 'h:i K',
        dateFormat: 'H:i',
        enableTime: true,
        noCalendar: true,
        onChange: function (date, dateStr) {
          setting = true; // to prevent infinite loop
          self.set({ value: dateStr });
          self.updateClassNames();
          setting = false;
        }
      });

      self.set({ _setting: setting })

    },
    onupdate({ changed, current, previous }){
      var self = this;

      if(changed['value']){
        if (self.get()._setting) return;
        var { value: date } = current;
        self.picker.setDate(date);
        self.updateClassNames();
      }

      if(changed['classes']){
        self.updateClassNames();
      }

      if (changed['disabled']) {
        self.updateDisability();
      }
    },
    methods: {
      updateDisability() {
        var self = this,
        { disabled } = self.get();
        self.picker.input.nextSibling.disabled = disabled;
      },
      updateClassNames() {
        var self = this,
          cs = self.picker.input.className;
        self.picker.input.nextSibling.className = cs;
      }
    },
    ondestroy() {
      this.picker.destroy();
    }
  }
</script>